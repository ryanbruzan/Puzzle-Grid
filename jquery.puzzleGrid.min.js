/*
Copyright (C) 2013, Ryan Bruzan - Puzzle Grid
v2.0
*/
/* // Copyright (C) 2013, Ryan Bruzan - Puzzle Grid v2.0 */
(function(a){a.fn.puzzleGrid=function(k){var g=a.extend({gridWidth:"1200px",columnNumber:3,margin:20},k);return a(this).each(function(){function m(){n=a(d).width();e=[];c=Math.floor(n/h);1>c?(c=1,l=-f):l=(a(d).width()-(h*c+f*(c+1)))/2;for(var b=0;b<c;b++)e.push(f);k()}function k(){a(d).find(".panel:not('.hidden')").each(function(b){b=Array.min(e);var c=a.inArray(b,e),d=f+c*(h+f);a(this).css({left:Math.floor(d+l)+"px",top:Math.floor(b)+"px"});e[c]=b+a(this).outerHeight(!0)+f;a(this).css({width:"100%", "max-width":Math.floor(h)})});var b=Array.max(e);a.inArray(b,e);a(d).css({height:Math.floor(b)})}var d=this;a(d).addClass("puzzleGridContainer").css({width:"100%","max-width":g.gridWidth});var c=0,f=g.margin,h=parseInt(g.gridWidth,10)/parseInt(g.columnNumber,10)-f,l=0,n=0,e=[];Array.min=function(a){return Math.min.apply(Math,a)};Array.max=function(a){return Math.max.apply(Math,a)};m();a(window).resize(m);a(window).trigger("resize")})}})(jQuery);